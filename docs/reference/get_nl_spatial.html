<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Get spatial data from metrics.turtles and metrics.patches output — get_nl_spatial • nlrx | NetLogo from R</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/sandstone/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Get spatial data from metrics.turtles and metrics.patches output — get_nl_spatial" />

<meta property="og:description" content="Turn results from NetLogo in spatial data objects" />

<meta property="og:image" content="/logo.png" />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">nlrx | NetLogo from R</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../articles/getstarted.html">
    <span class="fa fa fa fa-magic"></span>
     
    Get Started
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-graduation-cap"></span>
     
    More
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/simdesign-examples.html">
        <span class="fa fa-book"></span>
         
        Simdesign examples
      </a>
    </li>
    <li>
      <a href="../articles/furthernotes.html">
        <span class="fa fa-sticky-note"></span>
         
        Advanced configuration
      </a>
    </li>
    <li>
      <a href="../articles/articles/spatial-output.html">
        <span class="fa fa-calculator"></span>
         
        Capturing spatial NetLogo output
      </a>
    </li>
    <li>
      <a href="../articles/articles/interfacing-different-models.html">
        <span class="fa fa-file-text-o"></span>
         
        Interfacing a variety of different NetLogo models
      </a>
    </li>
    <li>
      <a href="../articles/articles/nldoc.html">
        <span class="fa fa-file-text-o"></span>
         
        NetLogo documentation with nlrx
      </a>
    </li>
  </ul>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="../news/index.html">
    <span class="fa fa-newspaper-o"></span>
     
    news
  </a>
</li>
<li>
  <a href="../reference/index.html">
    <span class="fa fa-gears"></span>
     
    functions
  </a>
</li>
<li>
  <a href="https://github.com/nldoc/nlrx">
    <span class="fa fa-github fa-lg"></span>
     
    github
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Get spatial data from metrics.turtles and metrics.patches output</h1>
    <small class="dont-index">Source: <a href='https://github.com/nldoc/nlrx/blob/master/R/get_nl_spatial.R'><code>R/get_nl_spatial.R</code></a></small>
    <div class="hidden name"><code>get_nl_spatial.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Turn results from NetLogo in spatial data objects</p>
    
    </div>

    <pre class="usage"><span class='fu'>get_nl_spatial</span>(<span class='no'>nl</span>, <span class='kw'>turtles</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>patches</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>links</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>turtle_coords</span> <span class='kw'>=</span> <span class='st'>"px"</span>, <span class='kw'>format</span> <span class='kw'>=</span> <span class='st'>"spatial"</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>nl</th>
      <td><p>nl object</p></td>
    </tr>
    <tr>
      <th>turtles</th>
      <td><p>if TRUE (default), the function generates reports the metrics.turtles as spatial columns (either in a tibble or sf object)</p></td>
    </tr>
    <tr>
      <th>patches</th>
      <td><p>if TRUE (default), the function generates raster objects from metrics.patches data (either in a tibble or raster object)</p></td>
    </tr>
    <tr>
      <th>links</th>
      <td><p>if TRUE (default is false), the function collects the the end1 and  end2, as well as link variables (if provided).</p></td>
    </tr>
    <tr>
      <th>turtle_coords</th>
      <td><p>either "px" if turtle coordinates were measured as
"pxcor" and "pycor" or "x" if coordinates were measured as "xcor" and "ycor"</p></td>
    </tr>
    <tr>
      <th>format</th>
      <td><p>string indication whether to return spatial objects
(RasterLayer, sf Points) or a rowbinded tibble</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>tibble with spatial data objects</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>get_nl_spatial generates spatial point objects and raster objects from data
that has been collected by metrics.turtles and metrics.patches.
metrics.turtles and metrics.patches need to collect coordinates of turtles
and patches.
For patches this can be easily done by adding "pxcor" and "pycor" to
metrics.patches.
For turtles you can either add "pxcor" and "pycor" to metrics.turtles or
"xcor" and "ycor".
For turtles you can add "end1" and "end2" to metrics.turtles.
It is also possible to measure both coordinates, and select the type that is
used for spatial object creation through the function parameter
turtle_coords.
"px" uses "pxcor" and "pycor", while "x" uses "xcor" and "ycor".</p>
<p>Furthermore, every type of agent also supports additional information (turtle, patch or link owns).
These are also collected and returned. If the output format is supposed to spatial,
turtle owns become columns in the sf object, and patch owns are returned as rasterstack for each tick.</p>
<p><em>NOTE</em>:</p>
<p>Links are currently only supported in the tibble output format!</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='co'># NOT RUN {</span>
<span class='co'># Run parallel on local machine:</span>
<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/library'>library</a></span>(<span class='no'>future</span>)
<span class='fu'><a href='https://www.rdocumentation.org/packages/future/topics/plan'>plan</a></span>(<span class='no'>multisession</span>)
<span class='co'># Run simulations:</span>
<span class='no'>results</span> <span class='kw'>%&lt;-%</span> <span class='fu'><a href='run_nl_all.html'>run_nl_all</a></span>(<span class='kw'>nl</span> <span class='kw'>=</span> <span class='no'>nl</span>)
<span class='co'># Attach results to nl:</span>
<span class='fu'><a href='setsim.html'>setsim</a></span>(<span class='no'>nl</span>, <span class='st'>"simoutput"</span>) <span class='kw'>&lt;-</span> <span class='no'>results</span>
<span class='co'># Get spatial data:</span>
<span class='no'>results_spatial</span> <span class='kw'>&lt;-</span> <span class='fu'>get_nl_spatial</span>(<span class='no'>nl</span>)
<span class='co'># }</span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Jan Salecker, Marco Sciaini.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

